<div class="wrap">
  <div class="topbar">
    <div class="title">
      <div class="big">Лабораторная работа №4</div>
      <div class="small">Филимонов Глеб, вариант 21</div>
    </div>

    <button pButton type="button" icon="pi pi-sign-out" label="Logout" class="p-button-secondary" (click)="logout()"></button>
  </div>

  <div class="grid">
    <div class="card">
      <h3>Параметры</h3>

      <div class="form">
        <div class="row">
          <label>X</label>
          <p-select [options]="xOptions" [(ngModel)]="x"></p-select>
        </div>

        <div class="row">
          <label>Y: {{ y }}</label>
          <p-slider [(ngModel)]="y" [min]="-3" [max]="5" [step]="0.1"></p-slider>
        </div>

        <div class="row">
          <label>R</label>
          <p-select [options]="rOptions" [(ngModel)]="r"></p-select>
        </div>

        <div class="buttons">
          <button pButton type="button" label="Проверить" icon="pi pi-check" (click)="submit()"></button>
          <button pButton type="button" label="Очистить" icon="pi pi-trash" class="p-button-danger" (click)="clear()"></button>
        </div>
      </div>
    </div>

    <div class="card">
      <h3>График</h3>
      <app-graph [r]="r" [points]="points" (pointClick)="addFromGraph($event.x, $event.y)"></app-graph>
    </div>

    <div class="card wide">
      <h3>Результаты</h3>
      <p-table [value]="points" [paginator]="true" [rows]="10" sortField="id" [sortOrder]="-1">
        <ng-template pTemplate="header">
          <tr>
            <th>X</th>
            <th>Y</th>
            <th>R</th>
            <th>Внутри</th>
            <th>Время сервера</th>
            <th>Время выполнения (нс)</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-p>
          <tr>
            <td>{{ p.x }}</td>
            <td>{{ p.y }}</td>
            <td>{{ p.r }}</td>
            <td>
              <span class="inside" [class.ok]="p.inside" [class.bad]="!p.inside">
                {{ p.inside ? 'ДА' : 'НЕТ' }}
              </span>
            </td>
            <td>{{ p.serverTime | date:'medium' }}</td>
            <td>{{ p.executionTime }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
